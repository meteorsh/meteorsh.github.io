<!DOCTYPE HTML>
<html lang="en">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Numpy Basis, meteorsh">
    <meta name="description" content="The bjiggest benefit of NumPy arrays is the use of simple array expressions to complete a variety of data manipulation tasks without the need to write some loops.">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Numpy Basis | meteorsh</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>
    
<meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="meteorsh" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">meteorsh</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>Index</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>Tags</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>Categories</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>Archives</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/book" class="waves-effect waves-light">
      
      <i class="fas fa-book" style="zoom: 0.6;"></i>
      
      <span>Book</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>About</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>Friends</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="Search" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">meteorsh</div>
        <div class="logo-desc">
            
            ECNU | Math &amp; DaSE | Master
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			Index
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			Tags
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			Categories
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			Archives
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/book" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-book"></i>
			
			Book
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			About
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			Friends
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/meteorsh" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Follow Me
            </a>
        </li>
        
    </ul>
</div>

        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/meteorsh" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Follow Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    
<script src="/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/25.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Numpy Basis</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Python/">
                                <span class="chip bg-color">Python</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/Python/" class="post-category">
                                Python
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>Publish Date:&nbsp;&nbsp;
                    2020-03-15
                </div>
                

                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>Word Count:&nbsp;&nbsp;
                    6k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>Read Times:&nbsp;&nbsp;
                    37 Min
                </div>
                

                
            </div>

        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <div align=center><img src="https://img-blog.csdnimg.cn/20200306135207615.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_40,text_cGhvdG8gYnkgc2h3ZWk=,size_25,color_FFFFFF,t_50,g_center" width="70%"/></div>



<h1 id="4-1-NumPy-ndarray"><a href="#4-1-NumPy-ndarray" class="headerlink" title="4.1 NumPy ndarray"></a>4.1 NumPy ndarray</h1><p>NumPy, short for Numerical Python, is the fundamental package required for high performance scientific computing and data analysis.</p>
<p>One of the key features of NumPy is its N-dimensional array object, or <strong>ndarray</strong>, which<br>is a fast, flexible container for large data sets in Python. </p>
<p>Whenever we see “array”, “Numpy array”, or “ndarray” in this book, with few exceptions they all refer to the same thing: the <strong>ndarray object</strong></p>
<p>A ndarray example</p>
<pre><code>array([[7, 5],
       [2, 3]])</code></pre><hr>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
my_arr <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">)</span>
my_list <span class="token operator">=</span> list<span class="token punctuation">(</span>range<span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>Run time</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">%</span>time my_arr2 <span class="token operator">=</span> my_arr <span class="token operator">*</span> <span class="token number">2</span>
<span class="token operator">%</span>time my_list <span class="token operator">=</span> my_list <span class="token operator">*</span> <span class="token number">2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre><code>CPU times: user 3.99 ms, sys: 5.66 ms, total: 9.64 ms
Wall time: 13.1 ms
CPU times: user 20.3 ms, sys: 9.21 ms, total: 29.5 ms
Wall time: 39.1 ms</code></pre><p>As we can see Numpy method is much faster than Python method, and cost less space.</p>
<h2 id="4-1-1-Create-ndarray"><a href="#4-1-1-Create-ndarray" class="headerlink" title="4.1.1 Create ndarray"></a>4.1.1 Create ndarray</h2><p>The easiest way to create an array is to use the <strong>array</strong> function</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># data1 is a list</span>
data1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
array1 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>data1<span class="token punctuation">)</span>
array1
array1<span class="token punctuation">.</span>shape<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>(2, 3)</code></pre><pre class="line-numbers language-python"><code class="language-python">data2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4.1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span>
array2 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>data2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>array2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>array2<span class="token punctuation">.</span>dtype<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>[5.  4.1 2.  8. ]
float64</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>[0. 0. 0. 0.]</code></pre><p>To create a higher dimensional array with these methods, pass a <strong>tuple</strong> for the shape</p>
<pre class="line-numbers language-python"><code class="language-python">np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># parameter Shape: int or tuple int</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[0., 0., 0., 0., 0.],
       [0., 0., 0., 0., 0.]])</code></pre><pre class="line-numbers language-python"><code class="language-python">np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[1., 1., 1., 1.],
       [1., 1., 1., 1.],
       [1., 1., 1., 1.]])</code></pre><p><strong>empty</strong> creates an array without initializing its values to any particular value:</p>
<pre class="line-numbers language-python"><code class="language-python">np<span class="token punctuation">.</span>empty<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[[1.28822975e-231, 1.28822975e-231, 1.97626258e-323],
        [0.00000000e+000, 0.00000000e+000, 0.00000000e+000]]])</code></pre><p><strong>arange</strong> is an array-valued version of the built-in Python <strong>range</strong> function:</p>
<pre class="line-numbers language-python"><code class="language-python">np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([1, 3, 5, 7, 9])</code></pre><pre class="line-numbers language-python"><code class="language-python">list<span class="token punctuation">(</span>range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># function range return an iterable object, not a list</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>[1, 3, 5, 7, 9]</code></pre><p><strong>ones_like</strong> takes another array and produces a ones array of the same shape and dtype</p>
<pre class="line-numbers language-python"><code class="language-python">np<span class="token punctuation">.</span>ones_like<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([1, 1, 1])</code></pre><p>It will tell us the right parameters format, so we don’t need to memory them.</p>
<div align=center><img src="https://img-blog.csdnimg.cn/20200301215132838.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_40,text_cGhvdG8gYnkgc2h3ZWk=,size_25,color_FFFFFF,t_50,g_center" width="70%"/></div>


<p>Create a square N * N identity matrix (1’s on the digonal and 0’s elsewhere)</p>
<pre class="line-numbers language-python"><code class="language-python">np<span class="token punctuation">.</span>identity<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[1., 0., 0., 0.],
       [0., 1., 0., 0.],
       [0., 0., 1., 0.],
       [0., 0., 0., 1.]])</code></pre><pre class="line-numbers language-python"><code class="language-python">np<span class="token punctuation">.</span>eye<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[1., 0., 0., 0.],
       [0., 1., 0., 0.],
       [0., 0., 1., 0.]])</code></pre><pre class="line-numbers language-python"><code class="language-python">np<span class="token punctuation">.</span>full<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[5, 5, 5],
       [5, 5, 5]])</code></pre><p>Table 4-1. Array creation functions</p>
<table>
<thead>
<tr>
<th align="left">Function</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">array</td>
<td align="left">Convert input data (list, tuple, array, or other sequence type) to an ndarray either by inferring a dtype or explicitly specifying a dtype. Copies the input data by default.</td>
</tr>
<tr>
<td align="left">asarray</td>
<td align="left">Convert input to ndarray, but do not copy if the input is already an ndarray</td>
</tr>
<tr>
<td align="left">arange</td>
<td align="left">Like the built-in range but returns an ndarray instead of a list.</td>
</tr>
<tr>
<td align="left">ones, ones_like</td>
<td align="left">Produce an array of all 1’s with the given shape and dtype. ones_like takes another array and produces a ones array of the same shape and dtype.</td>
</tr>
<tr>
<td align="left">zeros, zeros_like</td>
<td align="left">Like ones and ones_like but producing arrays of 0’s instead</td>
</tr>
<tr>
<td align="left">empty, empty_like</td>
<td align="left">Create new arrays by allocating new memory, but do not populate with any values like ones and zeros</td>
</tr>
<tr>
<td align="left">eye, identity</td>
<td align="left">Create a square N x N identity matrix (1’s on the diagonal and 0’s elsewhere)</td>
</tr>
</tbody></table>
<h2 id="4-1-2-Data-Types-for-ndarrays"><a href="#4-1-2-Data-Types-for-ndarrays" class="headerlink" title="4.1.2 Data Types for ndarrays"></a>4.1.2 Data Types for ndarrays</h2><p>The data type or dtype is a special object containing the information the ndarray needs to interpret a chunk of memory as a particular type of data:</p>
<p>The default dtype is <strong>float64</strong></p>
<pre class="line-numbers language-python"><code class="language-python">arr1 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span>np<span class="token punctuation">.</span>float64<span class="token punctuation">)</span>
arr2 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3.1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span>np<span class="token punctuation">.</span>int32<span class="token punctuation">)</span>
arr3 <span class="token operator">=</span> np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># use default dtype</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">arr1<span class="token punctuation">.</span>dtype<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>dtype(&#39;float64&#39;)</code></pre><pre class="line-numbers language-python"><code class="language-python">arr1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([1., 2., 3.])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr2<span class="token punctuation">.</span>dtype<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>dtype(&#39;int32&#39;)</code></pre><pre class="line-numbers language-python"><code class="language-python">arr2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([1, 2, 3], dtype=int32)</code></pre><pre class="line-numbers language-python"><code class="language-python">arr3<span class="token punctuation">.</span>dtype<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>dtype(&#39;float64&#39;)</code></pre><pre class="line-numbers language-python"><code class="language-python">arr3<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([1., 1., 1., 1.])</code></pre><p>Table 4-2. NumPy data types</p>
<table>
<thead>
<tr>
<th align="left">Type</th>
<th align="left">Type Code</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">int8, uint8</td>
<td align="left">i1, u1</td>
<td align="left">Signed and unsigned 8-bit (1 byte) integer types</td>
</tr>
<tr>
<td align="left">int16, uint16</td>
<td align="left">i2, u2</td>
<td align="left">Signed and unsigned 16-bit integer types</td>
</tr>
<tr>
<td align="left">int32, uint32</td>
<td align="left">i4, u4</td>
<td align="left">Signed and unsigned 32-bit integer types</td>
</tr>
<tr>
<td align="left">int64, uint64</td>
<td align="left">i8, u8 S</td>
<td align="left">igned and unsigned 32-bit integer types</td>
</tr>
<tr>
<td align="left">float16</td>
<td align="left">f2</td>
<td align="left">Half-precision floating point</td>
</tr>
<tr>
<td align="left">float32</td>
<td align="left">f4 or f</td>
<td align="left">Standard single-precision floating point. Compatible with C float</td>
</tr>
<tr>
<td align="left">float64, float128</td>
<td align="left">f8 or d</td>
<td align="left">Standard double-precision floating point. Compatible with C double and Python float object</td>
</tr>
<tr>
<td align="left">float128</td>
<td align="left">f16 or g</td>
<td align="left">Extended-precision floating point</td>
</tr>
<tr>
<td align="left">complex64, complex128, complex256</td>
<td align="left">c8, c16, c32</td>
<td align="left">Complex numbers represented by two 32, 64, or 128 floats, respectively</td>
</tr>
<tr>
<td align="left">bool</td>
<td align="left">?</td>
<td align="left">Boolean type storing True and False values</td>
</tr>
<tr>
<td align="left">object</td>
<td align="left">O</td>
<td align="left">Python object type</td>
</tr>
<tr>
<td align="left">string_</td>
<td align="left">S</td>
<td align="left">Fixed-length string type (1 byte per character) . For example, to create a string dtype with length 10, use ‘S10’.</td>
</tr>
<tr>
<td align="left">unicode_</td>
<td align="left">U</td>
<td align="left">Fixed-length unicode type (number of bytes platform specific). Same specification semantics as string_ (e.g. ‘U10’).</td>
</tr>
</tbody></table>
<h2 id="4-1-3-Operations-between-Arrays-and-Scalars"><a href="#4-1-3-Operations-between-Arrays-and-Scalars" class="headerlink" title="4.1.3 Operations between Arrays and Scalars"></a>4.1.3 Operations between Arrays and Scalars</h2><p>Arrays are important because they enable you to express batch operations on data without any <strong>for</strong> loops. This is usually called <strong>vectorization</strong>.</p>
<pre class="line-numbers language-python"><code class="language-python">arr <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">.</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">arr<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[1., 2., 3.],
       [4., 5., 6.]])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr <span class="token operator">*</span> arr<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[ 1.,  4.,  9.],
       [16., 25., 36.]])</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token number">1</span> <span class="token operator">/</span> arr<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[1.        , 0.5       , 0.33333333],
       [0.25      , 0.2       , 0.16666667]])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr <span class="token operator">**</span> <span class="token number">0.5</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[1.        , 1.41421356, 1.73205081],
       [2.        , 2.23606798, 2.44948974]])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr2 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">arr2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[ 0.,  4.,  1.],
       [ 7.,  2., 12.]])</code></pre><p>Comparing between two arrays of the same size return bool array</p>
<pre class="line-numbers language-python"><code class="language-python">arr2 <span class="token operator">></span> arr<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[False,  True, False],
       [ True, False,  True]])</code></pre><p>Operations between differently sized arrays is called <strong>broadcasting</strong>. Having a deep understanding of broadcasting is not neccessay for most of this book.</p>
<h2 id="4-1-4-Basic-Indexing-and-Slicing"><a href="#4-1-4-Basic-Indexing-and-Slicing" class="headerlink" title="4.1.4 Basic Indexing and Slicing"></a>4.1.4 Basic Indexing and Slicing</h2><p>An important first distinction frome lists is that <strong>array slice</strong> are <strong>views</strong> on the original array. This means that <strong>the data is not copied</strong>, and any motifications to the view will be reflected in the source array.</p>
<pre class="line-numbers language-python"><code class="language-python">arr <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">arr<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># any motifications to the view will be reflected in the source array:</span>
arr<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token number">8</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">12</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">arr <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([ 0,  1,  2,  3,  4, 12, 12, 12,  8,  9])</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># array slice is not copied</span>
arr_slice <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token number">8</span><span class="token punctuation">]</span>
arr_slice<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span>
arr<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>array([  0,   1,   2,   3,   4,  12, 100,  12,   8,   9])</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># list slice is copied</span>
list_ <span class="token operator">=</span> list<span class="token punctuation">(</span>range<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
list_slice <span class="token operator">=</span> list_<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token number">8</span><span class="token punctuation">]</span>
list_slice<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">list_<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</code></pre><p>Notes: As <strong>Numpy has been designed with large data</strong> use cases in mind, you could imagine performance and memory problems if Numpy insisted on copying data left and right.</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># array slice is copied if you use copy()</span>
arr_slice <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>
arr_slice<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">888</span>
arr<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>array([  0,   1,   2,   3,   4,  12, 100,  12,   8,   9])</code></pre><p>higher dimensional array index</p>
<pre class="line-numbers language-python"><code class="language-python">arr2d <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
arr2d<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre><code>array([1, 2])</code></pre><p>You can pass a comma-separated list of indices to select <strong>individual</strong> elements.</p>
<p>So these are equivalent:</p>
<pre class="line-numbers language-python"><code class="language-python">arr2d<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>2</code></pre><pre class="line-numbers language-python"><code class="language-python">arr2d<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>2</code></pre><p>Note: they are different if it is a slice</p>
<div align=center><img src="https://img-blog.csdnimg.cn/20200302145526390.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_40,text_cGhvdG8gYnkgc2h3ZWk=,size_25,color_FFFFFF,t_50,g_center" width="70%"/></div>

<h3 id="4-1-4-1-Note-the-function-of-arr3d-2-1-0"><a href="#4-1-4-1-Note-the-function-of-arr3d-2-1-0" class="headerlink" title="4.1.4.1 Note the function of arr3d[ :2, 1:, 0]"></a>4.1.4.1 Note the function of arr3d[ :2, 1:, 0]</h3><p><font color=red size=3 face=STHeit>use comma <code>,</code> to process each dimension</font></p>
<pre class="line-numbers language-python"><code class="language-python">arr2d<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment" spellcheck="true"># process each dimension</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[1],
       [3]])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr2d<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">]</span> 
<span class="token comment" spellcheck="true"># equivalent: tmp = arr2d[:2] and tmp[:1]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre><code>array([[1, 2]])</code></pre><p>3D array</p>
<pre class="line-numbers language-python"><code class="language-python">arr3d <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  
                  <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
                 <span class="token punctuation">]</span><span class="token punctuation">)</span>
arr3d<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>array([[[ 1,  2,  3],
        [ 4,  5,  6]],

       [[ 7,  8,  9],
        [10, 11, 12]]])</code></pre><p><font color=red size=3 face=STHeit>integer indexes return lower dimensonal axes</font></p>
<pre class="line-numbers language-python"><code class="language-python">arr3d<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[1, 2, 3],
       [4, 5, 6]])</code></pre><p><font color=red size=3 face=STHeit>colon<code>:</code> return the same dimensional axes</font></p>
<pre class="line-numbers language-python"><code class="language-python">arr3d<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">]</span> <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[[1, 2, 3],
        [4, 5, 6]]])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr3d<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([4, 5, 6])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr3d<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">arr3d<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[[ 1,  2,  3],
        [ 0,  0,  0]],

       [[ 7,  8,  9],
        [10, 11, 12]]])</code></pre><p>Note that in all of these cases where subsections of the array have been selected, the returned arrays are <strong>views</strong>, not copied.</p>
<p><strong>Indexing with slices</strong></p>
<pre class="line-numbers language-python"><code class="language-python">arr2d <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span>
                 <span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">arr2d<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[1, 2, 3],
       [4, 5, 6],
       [7, 8, 9]])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr2d<span class="token punctuation">.</span>shape<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>(3, 3)</code></pre><pre class="line-numbers language-python"><code class="language-python">arr2d<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment" spellcheck="true"># same dimensionality</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[1, 2, 3]])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr2d<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token comment" spellcheck="true"># lower dimensionality</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([1, 2, 3])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr2d<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([4, 5])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr2d<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[1],
       [4],
       [7]])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr2d<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[2, 3],
       [5, 6]])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr2d<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[4, 5, 6]])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr_test <span class="token operator">=</span> arr2d<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
arr_test <span class="token operator">=</span> <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">arr2d<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[1, 2, 3],
       [4, 5, 6],
       [7, 8, 9]])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr2d<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">arr2d<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[1, 0, 0],
       [4, 0, 0],
       [7, 8, 9]])</code></pre><div align=left><img src="https://img-blog.csdnimg.cn/2020030214382943.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_40,text_cGhvdG8gYnkgc2h3ZWk=,size_25,color_FFFFFF,t_50,g_center" width="70%"/></div>

<h2 id="4-1-5-Boolean-Indexing"><a href="#4-1-5-Boolean-Indexing" class="headerlink" title="4.1.5 Boolean Indexing"></a>4.1.5 Boolean Indexing</h2><pre class="line-numbers language-python"><code class="language-python">names <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token string">'Joe'</span><span class="token punctuation">,</span> <span class="token string">'Will'</span><span class="token punctuation">,</span> <span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token string">'Will'</span><span class="token punctuation">,</span> <span class="token string">'Joe'</span><span class="token punctuation">,</span> <span class="token string">'Joe'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
data <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>
names<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<pre><code>array([&#39;Bob&#39;, &#39;Joe&#39;, &#39;Will&#39;, &#39;Bob&#39;, &#39;Will&#39;, &#39;Joe&#39;, &#39;Joe&#39;], dtype=&#39;&lt;U4&#39;)</code></pre><pre class="line-numbers language-python"><code class="language-python">data<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[ 2.44492395, -1.52038895,  0.39391998, -0.31685538],
       [-0.08518141,  0.38465576, -0.59752249, -1.9550803 ],
       [-0.47663211, -0.23931735,  0.71509259,  0.11847852],
       [ 1.6580849 ,  0.45994775,  0.86858598, -0.7588714 ],
       [-0.17831281, -0.3973996 ,  0.48140504, -0.20286526],
       [ 0.02599393,  0.37176764, -0.83564336, -0.83812596],
       [-0.03231511, -1.66515562,  0.04271532,  0.55256624]])</code></pre><pre class="line-numbers language-python"><code class="language-python">names <span class="token operator">==</span> <span class="token string">'Bob'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([ True, False, False,  True, False, False, False])</code></pre><pre class="line-numbers language-python"><code class="language-python">data<span class="token punctuation">[</span>names <span class="token operator">==</span> <span class="token string">'Bob'</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[ 2.44492395, -1.52038895,  0.39391998, -0.31685538],
       [ 1.6580849 ,  0.45994775,  0.86858598, -0.7588714 ]])</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># First dimension fetch data based on boolean</span>
<span class="token comment" spellcheck="true"># Second dimension fectch data based on slice</span>
data<span class="token punctuation">[</span>names <span class="token operator">==</span> <span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<pre><code>array([[-1.52038895,  0.39391998, -0.31685538],
       [ 0.45994775,  0.86858598, -0.7588714 ]])</code></pre><pre class="line-numbers language-python"><code class="language-python">data<span class="token punctuation">[</span>names <span class="token operator">==</span> <span class="token string">'Bob'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[ 1.6580849 ,  0.45994775,  0.86858598, -0.7588714 ]])</code></pre><pre class="line-numbers language-python"><code class="language-python">data<span class="token punctuation">[</span>names <span class="token operator">==</span> <span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([-0.31685538, -0.7588714 ])</code></pre><p>To select everything but ‘Bob’, you can either use <code>!=</code> or negate the condition using <code>~</code></p>
<pre class="line-numbers language-python"><code class="language-python">names <span class="token operator">!=</span> <span class="token string">'Bob'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([False,  True,  True, False,  True,  True,  True])</code></pre><pre class="line-numbers language-python"><code class="language-python">data<span class="token punctuation">[</span><span class="token operator">~</span><span class="token punctuation">(</span>names <span class="token operator">==</span> <span class="token string">'Bob'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[-0.08518141,  0.38465576, -0.59752249, -1.9550803 ],
       [-0.47663211, -0.23931735,  0.71509259,  0.11847852],
       [-0.17831281, -0.3973996 ,  0.48140504, -0.20286526],
       [ 0.02599393,  0.37176764, -0.83564336, -0.83812596],
       [-0.03231511, -1.66515562,  0.04271532,  0.55256624]])</code></pre><p>Selecting two of the three names to combine mutiple boolean conditions, use boolean arithmetic operators like <code>&amp;(and)</code> and <code>|(or)</code>:</p>
<p>Note: The Python keywords <strong>and</strong> and <strong>or</strong> do not work with boolean arrays.</p>
<pre class="line-numbers language-python"><code class="language-python">mask <span class="token operator">=</span> <span class="token punctuation">(</span>names <span class="token operator">==</span> <span class="token string">'Bob'</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span>names <span class="token operator">==</span> <span class="token string">'Will'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">mask<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([ True, False,  True,  True,  True, False, False])</code></pre><pre class="line-numbers language-python"><code class="language-python">data1 <span class="token operator">=</span> data<span class="token punctuation">[</span>mask<span class="token punctuation">]</span> <span class="token comment" spellcheck="true"># make a copy</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">data1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[ 2.44492395, -1.52038895,  0.39391998, -0.31685538],
       [-0.47663211, -0.23931735,  0.71509259,  0.11847852],
       [ 1.6580849 ,  0.45994775,  0.86858598, -0.7588714 ],
       [-0.17831281, -0.3973996 ,  0.48140504, -0.20286526]])</code></pre><pre class="line-numbers language-python"><code class="language-python">data1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">data1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[ 2.44492395, -1.52038895,  0.39391998, -0.31685538],
       [ 0.        ,  0.        ,  0.        ,  0.        ],
       [ 1.6580849 ,  0.45994775,  0.86858598, -0.7588714 ],
       [-0.17831281, -0.3973996 ,  0.48140504, -0.20286526]])</code></pre><pre class="line-numbers language-python"><code class="language-python">data<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[ 2.44492395, -1.52038895,  0.39391998, -0.31685538],
       [-0.08518141,  0.38465576, -0.59752249, -1.9550803 ],
       [-0.47663211, -0.23931735,  0.71509259,  0.11847852],
       [ 1.6580849 ,  0.45994775,  0.86858598, -0.7588714 ],
       [-0.17831281, -0.3973996 ,  0.48140504, -0.20286526],
       [ 0.02599393,  0.37176764, -0.83564336, -0.83812596],
       [-0.03231511, -1.66515562,  0.04271532,  0.55256624]])</code></pre><p>Note: <font color=red size=3 face=STHeit>Selecting data from an array by boolean indexing always creates a copy of the data.</font><br>Set all of the negative values in data to 0</p>
<pre class="line-numbers language-python"><code class="language-python">data <span class="token operator">&lt;</span> <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[False,  True, False,  True],
       [ True, False,  True,  True],
       [ True,  True, False, False],
       [False, False, False,  True],
       [ True,  True, False,  True],
       [False, False,  True,  True],
       [ True,  True, False, False]])</code></pre><pre class="line-numbers language-python"><code class="language-python">data<span class="token punctuation">[</span>data <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">data<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[2.44492395, 0.        , 0.39391998, 0.        ],
       [0.        , 0.38465576, 0.        , 0.        ],
       [0.        , 0.        , 0.71509259, 0.11847852],
       [1.6580849 , 0.45994775, 0.86858598, 0.        ],
       [0.        , 0.        , 0.48140504, 0.        ],
       [0.02599393, 0.37176764, 0.        , 0.        ],
       [0.        , 0.        , 0.04271532, 0.55256624]])</code></pre><h2 id="4-1-6-Fancy-Indexing"><a href="#4-1-6-Fancy-Indexing" class="headerlink" title="4.1.6 Fancy Indexing"></a>4.1.6 Fancy Indexing</h2><p>Fancy indexing is a term adpoted by Numpy to describe indexing using integer arrays.</p>
<p>Case 1: Basic Indexing and Slicing</p>
<pre class="line-numbers language-python"><code class="language-python">arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([  2,   3,   4,  12, 100,  12,   8,   9])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>0</code></pre><p>Case 2: Boolean Indexing</p>
<pre class="line-numbers language-python"><code class="language-python">arr <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
bool_ <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dtype <span class="token operator">=</span> np<span class="token punctuation">.</span>bool<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">bool_<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([ True, False,  True, False])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr<span class="token punctuation">[</span>bool_<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([1, 4])</code></pre><h3 id="4-1-6-1-Key-of-Fancy-Indexing"><a href="#4-1-6-1-Key-of-Fancy-Indexing" class="headerlink" title="4.1.6.1 Key of Fancy Indexing"></a>4.1.6.1 Key of Fancy Indexing</h3><p>Case 3: Fancy Indexing</p>
<ul>
<li>Return a <strong>copy</strong> of original array</li>
<li><font color=red size=3 face=STHeit>To select out a subset of the rows in a particular order</font>, you can simply pass a <strong>list</strong> or <strong>ndaray</strong> of integers specifying the desired order</li>
</ul>
<pre class="line-numbers language-python"><code class="language-python">arr <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">arr<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">]</span> <span class="token comment" spellcheck="true"># [2,3,1,0] is a list</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([3, 4, 2, 1])</code></pre><pre class="line-numbers language-python"><code class="language-python">index_arr <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">index_arr<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([3, 2, 0, 1])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr<span class="token punctuation">[</span>index_arr<span class="token punctuation">]</span> <span class="token comment" spellcheck="true"># index_arr is a ndarray</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([4, 3, 1, 2])</code></pre><p>I think Boolean Indexing is a special Fancy Indexing.</p>
<pre class="line-numbers language-python"><code class="language-python">arr<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([1, 2, 3, 4])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token comment" spellcheck="true">#(1,) (2,)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([2, 3])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">]</span> <span class="token comment" spellcheck="true">#(-1,) (-3,)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([4, 2])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">arr<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[ 0,  1,  2,  3],
       [ 4,  5,  6,  7],
       [ 8,  9, 10, 11],
       [12, 13, 14, 15],
       [16, 17, 18, 19],
       [20, 21, 22, 23],
       [24, 25, 26, 27],
       [28, 29, 30, 31]])</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># select each dimension</span>
arr<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token comment" spellcheck="true"># (1,0) (5,3) (7,1) (2,2)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre><code>array([ 4, 23, 29, 10])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token comment" spellcheck="true"># (1,:) (5,:) (7,:) (2,:)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[ 4,  5,  6,  7],
       [20, 21, 22, 23],
       [28, 29, 30, 31],
       [ 8,  9, 10, 11]])</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># Can be understood as: first exchange the second dimension, and then select all the first dimensions</span>
arr<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre><code>array([[ 4,  7,  5,  6],
       [20, 23, 21, 22],
       [28, 31, 29, 30],
       [ 8, 11,  9, 10]])</code></pre><h2 id="4-1-7-Transposing-Arrays-and-Swapping-Axes"><a href="#4-1-7-Transposing-Arrays-and-Swapping-Axes" class="headerlink" title="4.1.7 Transposing Arrays and Swapping Axes"></a>4.1.7 Transposing Arrays and Swapping Axes</h2><p><font color=red size=3 face=STHeit>Transposing</font> is a special form of reshaping which similarly returns <font color=red size=3 face=STHeit>a view</font> on the underlying data without copying anything.</p>
<p><font color=red size=3 face=STHeit>Transposing: </font><code>arr[0, 1, 2] = arr.T[2,1,0]</code> After transposing the axes is from dn to d1</p>
<pre class="line-numbers language-python"><code class="language-python">arr <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">arr<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[[ 0,  1,  2,  3],
        [ 4,  5,  6,  7],
        [ 8,  9, 10, 11]],

       [[12, 13, 14, 15],
        [16, 17, 18, 19],
        [20, 21, 22, 23]]])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>6</code></pre><p>arr size:$2<em>3</em>4$</p>
<p>arr.T size:$4<em>3</em>2$</p>
<pre class="line-numbers language-python"><code class="language-python">arr_T <span class="token operator">=</span> arr<span class="token punctuation">.</span>T
arr<span class="token punctuation">.</span>T <span class="token comment" spellcheck="true"># a view of arr</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre><code>array([[[ 0, 12],
        [ 4, 16],
        [ 8, 20]],

       [[ 1, 13],
        [ 5, 17],
        [ 9, 21]],

       [[ 2, 14],
        [ 6, 18],
        [10, 22]],

       [[ 3, 15],
        [ 7, 19],
        [11, 23]]])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr_T<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3333</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">arr<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[[   0,    1,    2,    3],
        [3333,    5,    6,    7],
        [   8,    9,   10,   11]],

       [[  12,   13,   14,   15],
        [3333,   17,   18,   19],
        [  20,   21,   22,   23]]])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr_T<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token comment" spellcheck="true"># arr_T is the array after arr transposing</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>6</code></pre><p>Computing the inner matrix product $X^TX$ using <strong>np.dot</strong></p>
<pre class="line-numbers language-python"><code class="language-python">arr <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">arr<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[3, 3, 2, 2],
       [1, 3, 2, 1],
       [2, 2, 3, 1]])</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># inner matrix product</span>
np<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>arr<span class="token punctuation">.</span>T<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre><code>array([[14, 16, 14,  9],
       [16, 22, 18, 11],
       [14, 18, 17,  9],
       [ 9, 11,  9,  6]])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">arr <span class="token comment" spellcheck="true"># size 2*3*4</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[[ 0,  1,  2,  3],
        [ 4,  5,  6,  7],
        [ 8,  9, 10, 11]],

       [[12, 13, 14, 15],
        [16, 17, 18, 19],
        [20, 21, 22, 23]]])</code></pre><p>transpose change axes (0,1,2) to (1,0,2)</p>
<p>So for example the index (1,2,3) will be index(2,1,3) </p>
<pre class="line-numbers language-python"><code class="language-python">arr<span class="token punctuation">.</span>transpose<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># size 2 * 3 * 4 </span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[[ 0,  1,  2,  3],
        [12, 13, 14, 15]],

       [[ 4,  5,  6,  7],
        [16, 17, 18, 19]],

       [[ 8,  9, 10, 11],
        [20, 21, 22, 23]]])</code></pre><p>ndarray has the method <strong>swapaxes</strong> which takes a pair of axis numbers</p>
<pre class="line-numbers language-python"><code class="language-python">arr <span class="token comment" spellcheck="true"># size 2*3*4</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[[ 0,  1,  2,  3],
        [ 4,  5,  6,  7],
        [ 8,  9, 10, 11]],

       [[12, 13, 14, 15],
        [16, 17, 18, 19],
        [20, 21, 22, 23]]])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr<span class="token punctuation">.</span>swapaxes<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># size 2*4*3  return a copy</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[[ 0,  4,  8],
        [ 1,  5,  9],
        [ 2,  6, 10],
        [ 3,  7, 11]],

       [[12, 16, 20],
        [13, 17, 21],
        [14, 18, 22],
        [15, 19, 23]]])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>21</code></pre><pre class="line-numbers language-python"><code class="language-python">arr<span class="token punctuation">.</span>swapaxes<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>21</code></pre><h1 id="4-2-Universal-Functions-Fast-Element-wise-Array-Functions"><a href="#4-2-Universal-Functions-Fast-Element-wise-Array-Functions" class="headerlink" title="4.2 Universal Functions: Fast Element-wise Array Functions"></a>4.2 Universal Functions: Fast Element-wise Array Functions</h1><p>A universal function, or <strong>ufunc</strong>, is a function that performs elementwise operations on data in ndarrays.You can think of them as fast<strong>vectorized wrappers</strong> for simple functions.</p>
<pre class="line-numbers language-python"><code class="language-python">arr <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">arr<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</code></pre><pre class="line-numbers language-python"><code class="language-python">np<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([0.        , 1.        , 1.41421356, 1.73205081, 2.        ,
       2.23606798, 2.44948974, 2.64575131, 2.82842712, 3.        ])</code></pre><pre class="line-numbers language-python"><code class="language-python">np<span class="token punctuation">.</span>exp<span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([1.00000000e+00, 2.71828183e+00, 7.38905610e+00, 2.00855369e+01,
       5.45981500e+01, 1.48413159e+02, 4.03428793e+02, 1.09663316e+03,
       2.98095799e+03, 8.10308393e+03])</code></pre><pre class="line-numbers language-python"><code class="language-python">x <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
y <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">x<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([ 0.60058561, -1.30032727, -1.17669429, -1.16293769,  1.6389972 ,
       -0.53815749, -0.14142643,  1.02354324])</code></pre><pre class="line-numbers language-python"><code class="language-python">y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([-1.61302358, -0.354913  , -0.1137763 ,  0.08010182,  0.07466485,
       -1.39663575,  0.77496037,  1.75997402])</code></pre><pre class="line-numbers language-python"><code class="language-python">np<span class="token punctuation">.</span>maximum<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([ 0.60058561, -0.354913  , -0.1137763 ,  0.08010182,  1.6389972 ,
       -0.53815749,  0.77496037,  1.75997402])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">5</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">arr<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([ 7.50554328, -0.61609252,  3.00616797, -6.02160661,  3.83440266,
       -6.53201864,  7.47775811])</code></pre><pre class="line-numbers language-python"><code class="language-python">remainder<span class="token punctuation">,</span> whole_part <span class="token operator">=</span> np<span class="token punctuation">.</span>modf<span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">remainder<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([ 0.50554328, -0.61609252,  0.00616797, -0.02160661,  0.83440266,
       -0.53201864,  0.47775811])</code></pre><pre class="line-numbers language-python"><code class="language-python">whole_part<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([ 7., -0.,  3., -6.,  3., -6.,  7.])</code></pre><p>Universal Function accept a optional parameter <strong>out</strong></p>
<pre class="line-numbers language-python"><code class="language-python">arr <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([ 7.50554328, -0.61609252,  3.00616797, -6.02160661,  3.83440266,
       -6.53201864,  7.47775811])</code></pre><pre class="line-numbers language-python"><code class="language-python">np<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>arr<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>/usr/local/lib/python3.7/site-packages/ipykernel_launcher.py:1: RuntimeWarning: invalid value encountered in sqrt
  &quot;&quot;&quot;Entry point for launching an IPython kernel.





array([2.73962466,        nan, 1.73383043,        nan, 1.95816308,
              nan, 2.73454898])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([2.73962466,        nan, 1.73383043,        nan, 1.95816308,
              nan, 2.73454898])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">arr<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([-0.40366505, -1.98954395, -1.05020216, -0.01818649, -1.08323461,
        0.0976977 , -1.45609853, -0.99915274, -1.88666922, -0.10298285])</code></pre><pre class="line-numbers language-python"><code class="language-python">np<span class="token punctuation">.</span>sign<span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([-1., -1., -1., -1., -1.,  1., -1., -1., -1., -1.])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr1 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>range<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
arr2 <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">arr1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([ 1,  2,  3,  4,  5,  6,  7,  8,  9, 10])</code></pre><pre class="line-numbers language-python"><code class="language-python">np<span class="token punctuation">.</span>subtract<span class="token punctuation">(</span>arr1<span class="token punctuation">,</span> arr2<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([-1, -1, -1, -1, -1, -1, -1, -1, -1, -1])</code></pre><pre class="line-numbers language-python"><code class="language-python">np<span class="token punctuation">.</span>copysign<span class="token punctuation">(</span>arr<span class="token punctuation">,</span> arr2<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># copy arr2's sign to arr</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([0.40366505, 1.98954395, 1.05020216, 0.01818649, 1.08323461,
       0.0976977 , 1.45609853, 0.99915274, 1.88666922, 0.10298285])</code></pre><h2 id="4-2-1-API-https-www-geeksforgeeks-org-Google-Dash"><a href="#4-2-1-API-https-www-geeksforgeeks-org-Google-Dash" class="headerlink" title="4.2.1 API https://www.geeksforgeeks.org/  , Google, Dash"></a>4.2.1 API <a href="https://www.geeksforgeeks.org/" target="_blank" rel="noopener">https://www.geeksforgeeks.org/</a>  , Google, Dash</h2><p>You don’t need to remember all the function. When you need it, just search the function in Google or Dash.</p>
<div align=center><img src="https://img-blog.csdnimg.cn/20200303151646816.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_40,text_cGhvdG8gYnkgc2h3ZWk=,size_25,color_FFFFFF,t_50,g_center" width="70%"/></div>

<h2 id="4-2-2-A-listing-of-available-ufuncs"><a href="#4-2-2-A-listing-of-available-ufuncs" class="headerlink" title="4.2.2 A listing of available ufuncs"></a>4.2.2 A listing of available ufuncs</h2><p>Table 4-3. Unary ufuncs</p>
<table>
<thead>
<tr>
<th align="left">Function</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">abs, fabs</td>
<td align="left">Compute the absolute value element-wise for integer, floating point, or complex values.Use fabs as a faster alternative for non-complex-valued data</td>
</tr>
<tr>
<td align="left">sqrt</td>
<td align="left">Compute the square root of each element. Equivalent to arr ** 0.5</td>
</tr>
<tr>
<td align="left">square</td>
<td align="left">Compute the square of each element. Equivalent to arr ** 2</td>
</tr>
<tr>
<td align="left">exp</td>
<td align="left">Compute the exponent $e^x$ of each element</td>
</tr>
<tr>
<td align="left">log, log10, log2, log1p</td>
<td align="left">Natural logarithm (base e), log base 10, log base 2, and log(1 + x), respectively</td>
</tr>
<tr>
<td align="left">sign</td>
<td align="left">Compute the sign of each element: 1 (positive), 0 (zero), or -1 (negative)</td>
</tr>
<tr>
<td align="left">ceil</td>
<td align="left">Compute the ceiling of each element, i.e. the smallest integer greater than or equal to each element</td>
</tr>
<tr>
<td align="left">floor</td>
<td align="left">Compute the floor of each element, i.e. the largest integer less than or equal to each element</td>
</tr>
<tr>
<td align="left">rint</td>
<td align="left">Round elements to the nearest integer, preserving the dtype</td>
</tr>
<tr>
<td align="left">modf</td>
<td align="left">Return fractional and integral parts of array as separate array</td>
</tr>
<tr>
<td align="left">isnan</td>
<td align="left">Return boolean array indicating whether each value is NaN (Not a Number)</td>
</tr>
<tr>
<td align="left">isfinite, isinf</td>
<td align="left">Return boolean array indicating whether each element is finite (non-inf, non-NaN) or infinite, respectively</td>
</tr>
<tr>
<td align="left">cos, cosh, sin, sinh, tan, tanh</td>
<td align="left">Regular and hyperbolic trigonometric functions</td>
</tr>
<tr>
<td align="left">arccos, arccosh, arcsin, arcsinh, arctan, arctanh</td>
<td align="left">Inverse trigonometric functions</td>
</tr>
<tr>
<td align="left">logical_not</td>
<td align="left">Compute truth value of not x element-wise. Equivalent to -arr</td>
</tr>
</tbody></table>
<p>Table 4-4. Binary universal functions</p>
<table>
<thead>
<tr>
<th align="left">Function</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">add</td>
<td align="left">Add corresponding elements in arrays</td>
</tr>
<tr>
<td align="left">subtract</td>
<td align="left">Subtract elements in second array from first array</td>
</tr>
<tr>
<td align="left">multiply</td>
<td align="left">Multiply array elements</td>
</tr>
<tr>
<td align="left">divide, floor_divide</td>
<td align="left">Divide or floor divide (truncating the remainder)</td>
</tr>
<tr>
<td align="left">power</td>
<td align="left">Raise elements in first array to powers indicated in second array</td>
</tr>
<tr>
<td align="left">maximum, fmax</td>
<td align="left">Element-wise maximum. fmax ignores NaN</td>
</tr>
<tr>
<td align="left">minimum, fmin</td>
<td align="left">Element-wise minimum. fmin ignores NaN</td>
</tr>
<tr>
<td align="left">mod</td>
<td align="left">Element-wise modulus (remainder of division)</td>
</tr>
<tr>
<td align="left">copysign</td>
<td align="left">Copy sign of values in second argument to values in first argument</td>
</tr>
<tr>
<td align="left">greater, greater_equal, less, less_equal, equal, not_equal</td>
<td align="left">Perform element-wise comparison, yielding boolean array. Equivalent to infix operators &gt;, &gt;=, &lt;, &lt;=, ==, !=</td>
</tr>
<tr>
<td align="left">logical_and,logical_or, logical_xor</td>
<td align="left">Compute element-wise truth value of logical operation. Equivalent to infix operators <code>&amp;</code>, `</td>
</tr>
</tbody></table>
<h1 id="4-3-Data-Processing-Using-Arrays"><a href="#4-3-Data-Processing-Using-Arrays" class="headerlink" title="4.3 Data Processing Using Arrays"></a>4.3 Data Processing Using Arrays</h1><h2 id="4-3-0-np-meshgrid"><a href="#4-3-0-np-meshgrid" class="headerlink" title="4.3.0 np.meshgrid()"></a>4.3.0 np.meshgrid()</h2><p>The <strong>np.meshgrid</strong> function takes two 1D arrays and produces two 2D matrices corresponding to all pairs of (x, y) in the two arrays:</p>
<pre class="line-numbers language-python"><code class="language-python">pointx <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
pointy <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
matrices <span class="token operator">=</span> np<span class="token punctuation">.</span>meshgrid<span class="token punctuation">(</span>pointx<span class="token punctuation">,</span>pointy<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">matrices<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>[array([[1, 2, 3],
        [1, 2, 3]]),
 array([[-1, -1, -1],
        [-2, -2, -2]])]</code></pre><pre class="line-numbers language-python"><code class="language-python">xs<span class="token punctuation">,</span> ys <span class="token operator">=</span> np<span class="token punctuation">.</span>meshgrid<span class="token punctuation">(</span>pointx<span class="token punctuation">,</span>pointy<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">xs<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[1, 2, 3],
       [1, 2, 3]])</code></pre><pre class="line-numbers language-python"><code class="language-python">ys<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[-1, -1, -1],
       [-2, -2, -2]])</code></pre><p><strong>How to understand np.meshgrid()</strong></p>
<div align=center><img src="https://img-blog.csdnimg.cn/20200303165432510.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_40,text_cGhvdG8gYnkgc2h3ZWk=,size_25,color_FFFFFF,t_50,g_center" width="80%"/></div>


<pre class="line-numbers language-python"><code class="language-python">z <span class="token operator">=</span> np<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>xs <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">+</span> ys <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">z<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[1.41421356, 2.23606798, 3.16227766],
       [2.23606798, 2.82842712, 3.60555128]])</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>z<span class="token punctuation">,</span> cmap <span class="token operator">=</span> plt<span class="token punctuation">.</span>cm<span class="token punctuation">.</span>gray<span class="token punctuation">)</span><span class="token punctuation">;</span> plt<span class="token punctuation">.</span>colorbar<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">"Image plot of $\sqrt{x ^ 2 + y ^ 2}$ for a grid of values"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre><code>Text(0.5, 1.0, &#39;Image plot of $\\sqrt{x ^ 2 + y ^ 2}$ for a grid of values&#39;)</code></pre><p><img src="output_203_1.png" alt="png"></p>
<p>Figure 4-3. Plot of function evaluated on grid</p>
<p>Here I used the matplotlib function <strong>imshow</strong> to create an image plot<br>from a 2D array of function values.</p>
<h2 id="4-3-1-Expressing-Conditional-Logic-as-Array-Operations"><a href="#4-3-1-Expressing-Conditional-Logic-as-Array-Operations" class="headerlink" title="4.3.1 Expressing Conditional Logic as Array Operations"></a>4.3.1 Expressing Conditional Logic as Array Operations</h2><p>The <strong>numpy.where</strong> function is a vectorized version of the ternary expression <strong>x if condtion else y</strong></p>
<pre class="line-numbers language-python"><code class="language-python">xarr <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
yarr <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
cond <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">result <span class="token operator">=</span> <span class="token punctuation">[</span>x <span class="token keyword">if</span> c <span class="token keyword">else</span> y <span class="token keyword">for</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> c <span class="token keyword">in</span> zip<span class="token punctuation">(</span>xarr<span class="token punctuation">,</span> yarr<span class="token punctuation">,</span> cond<span class="token punctuation">)</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">result<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>[1, -2, 3, 4]</code></pre><p>This has multiple problems. First, it will not be very fast for large arrays (because all the work is being done in <strong>pure Python</strong>). Secondly, it will not work with multidimensional arrays.</p>
<p>With <strong>np.where</strong> you can write this very concisely</p>
<pre class="line-numbers language-python"><code class="language-python">result <span class="token operator">=</span> np<span class="token punctuation">.</span>where<span class="token punctuation">(</span>cond<span class="token punctuation">,</span> xarr<span class="token punctuation">,</span> yarr<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">result<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([ 1, -2,  3,  4])</code></pre><p>The second and third arguments to <strong>np.where</strong> don’t need to be arrays.A typical use of <strong>where</strong> in data analysis is to produce a new array of values based on another array.</p>
<pre class="line-numbers language-python"><code class="language-python">arr <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">arr<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[-0.01139784,  0.40169215, -0.38962953],
       [ 0.55216629,  0.48477693, -0.06194546],
       [ 0.54855517,  0.17247726, -0.74025193],
       [-0.39221758,  0.24833925,  1.15466766]])</code></pre><pre class="line-numbers language-python"><code class="language-python">np<span class="token punctuation">.</span>where<span class="token punctuation">(</span>arr <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">,</span> arr<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[-2.        ,  0.40169215, -2.        ],
       [ 0.55216629,  0.48477693, -2.        ],
       [ 0.54855517,  0.17247726, -2.        ],
       [-2.        ,  0.24833925,  1.15466766]])</code></pre><p>The arrays passed to <strong>where</strong> can be more than just equal sizes array or scales.</p>
<h2 id="4-3-2-Mathematical-and-Statistical-Methods"><a href="#4-3-2-Mathematical-and-Statistical-Methods" class="headerlink" title="4.3.2 Mathematical and Statistical Methods"></a>4.3.2 Mathematical and Statistical Methods</h2><pre class="line-numbers language-python"><code class="language-python">arr <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># normally-distributed data</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<div align=center><img src="https://img-blog.csdnimg.cn/20200306112618132.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_40,text_cGhvdG8gYnkgc2h3ZWk=,size_25,color_FFFFFF,t_50,g_center" width="70%"/></div>


<pre class="line-numbers language-python"><code class="language-python">arr <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[-1.7669711 ,  0.23033242, -0.66245059, -1.10571503],
       [ 0.17697343,  0.09412475,  2.31777073, -0.44555725],
       [-0.62426573,  1.75648072,  0.95977683, -0.61619976],
       [-0.49642721,  0.45912091,  1.26163226,  0.06395789],
       [ 1.66048345,  0.34056885, -1.54478641, -1.04533225]])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">arr<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[ 0,  1,  2],
       [ 3,  4,  5],
       [ 6,  7,  8],
       [ 9, 10, 11],
       [12, 13, 14]])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr<span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># Average of all numbers</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>7.0</code></pre><pre class="line-numbers language-python"><code class="language-python">arr<span class="token punctuation">.</span>sum<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># Sum of all numbers</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>105</code></pre><p>Functions like <strong>mean</strong> and <strong>sum</strong> take an optional <strong>axis</strong> argument<br>which computes the statistic over the given axis, resulting in an array<br>with one fewer dimension, or compressing the given axis</p>
<div align=center><img src="https://img-blog.csdnimg.cn/20200306120247492.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_40,text_cGhvdG8gYnkgc2h3ZWk=,size_25,color_FFFFFF,t_50,g_center" width="70%"/></div>


<pre class="line-numbers language-python"><code class="language-python">arr<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[ 0,  1,  2],
       [ 3,  4,  5],
       [ 6,  7,  8],
       [ 9, 10, 11],
       [12, 13, 14]])</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># arr[3][1] == 10</span>
<span class="token comment" spellcheck="true"># axis 1 is the direction 0->1->2 here</span>
arr<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>axis <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># compress axis 1 and here is (5, 3)‘s 3</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<pre><code>array([ 1.,  4.,  7., 10., 13.])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr<span class="token punctuation">.</span>sum<span class="token punctuation">(</span>axis <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([30, 35, 40])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr<span class="token punctuation">.</span>sum<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([30, 35, 40])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr<span class="token punctuation">.</span>min<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># dimension reduced</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([ 0,  3,  6,  9, 12])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr<span class="token punctuation">.</span>argmax<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># Indices of maximum elements, respective</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([2, 2, 2, 2, 2])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">arr<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr<span class="token punctuation">.</span>cumsum<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([ 0,  1,  3,  6, 10, 15, 21, 28, 36, 45])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">arr<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[0, 1, 2],
       [3, 4, 5],
       [6, 7, 8]])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr<span class="token punctuation">.</span>cumsum<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[ 0,  1,  2],
       [ 3,  5,  7],
       [ 9, 12, 15]])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr<span class="token punctuation">.</span>cumprod<span class="token punctuation">(</span>axis <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[  0,   0,   0],
       [  3,  12,  60],
       [  6,  42, 336]])</code></pre><p>Table 4-5. Basic array statistical methods</p>
<table>
<thead>
<tr>
<th align="left">Method</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">sum</td>
<td align="left">Sum of all the elements in the array or along an axis. Zero-length arrays have sum 0.</td>
</tr>
<tr>
<td align="left">mean</td>
<td align="left">Arithmetic mean. Zero-length arrays have NaN mean.</td>
</tr>
<tr>
<td align="left">std, var</td>
<td align="left">Standard deviation and variance, respectively, with optional degrees of freedom adjustment (default denominator n).</td>
</tr>
<tr>
<td align="left">min, max</td>
<td align="left">Minimum and maximum.</td>
</tr>
<tr>
<td align="left">argmin, argmax</td>
<td align="left">Indices of minimum and maximum elements, respectively.</td>
</tr>
<tr>
<td align="left">cumsum</td>
<td align="left">Cumulative sum of elements starting from 0</td>
</tr>
<tr>
<td align="left">cumprod</td>
<td align="left">Cumulative product of elements starting from 1</td>
</tr>
</tbody></table>
<h2 id="4-3-3-Methods-for-Boolean-Arrays"><a href="#4-3-3-Methods-for-Boolean-Arrays" class="headerlink" title="4.3.3 Methods for Boolean Arrays"></a>4.3.3 Methods for Boolean Arrays</h2><p>Boolean values are coerced to 1(True) and 0(False) in the above methods.</p>
<pre class="line-numbers language-python"><code class="language-python">arr <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python"><span class="token punctuation">(</span>arr <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>sum<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># Number of positive values</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>46</code></pre><p>There are two additional methods, <strong>any</strong> and <strong>all</strong>, useful especially for boolean<br>arrays.</p>
<p><strong>any</strong> tests whether one or more values in an array is <strong>True</strong>, while <strong>all</strong> checks if every value<br>is <strong>True</strong></p>
<pre class="line-numbers language-python"><code class="language-python">bools <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">bools<span class="token punctuation">.</span>any<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>True</code></pre><pre class="line-numbers language-python"><code class="language-python">bools<span class="token punctuation">.</span>all<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>False</code></pre><pre class="line-numbers language-python"><code class="language-python">bools<span class="token punctuation">.</span>sum<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>1</code></pre><h2 id="4-3-4-Sorting"><a href="#4-3-4-Sorting" class="headerlink" title="4.3.4 Sorting"></a>4.3.4 Sorting</h2><p>Like Python’s built-in list type, NumPy arrays  can be sorted in-place using the <strong>sort</strong> method</p>
<pre class="line-numbers language-python"><code class="language-python">arr <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">arr<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([-0.05645386, -0.36224588, -1.29498701, -0.30476409, -0.46770012,
        1.20385542,  1.47953717, -0.20565266])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr<span class="token punctuation">.</span>sort<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">arr<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([-1.29498701, -0.46770012, -0.36224588, -0.30476409, -0.20565266,
       -0.05645386,  1.20385542,  1.47953717])</code></pre><h2 id="4-3-5-Unique-and-Other-Set-Logic"><a href="#4-3-5-Unique-and-Other-Set-Logic" class="headerlink" title="4.3.5 Unique and Other Set Logic"></a>4.3.5 Unique and Other Set Logic</h2><p>NumPy has some basic set operations for one-dimensional ndarrays. Probably<br>the most commonly used one is <strong>np.unique</strong>, which returns the sorted unique values in an array</p>
<pre class="line-numbers language-python"><code class="language-python">names <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token string">'Will'</span><span class="token punctuation">,</span><span class="token string">'Joe'</span><span class="token punctuation">,</span>  <span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token string">'Will'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">np<span class="token punctuation">.</span>unique<span class="token punctuation">(</span>names<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([&#39;Bob&#39;, &#39;Joe&#39;, &#39;Will&#39;], dtype=&#39;&lt;U4&#39;)</code></pre><pre class="line-numbers language-python"><code class="language-python">names<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([&#39;Bob&#39;, &#39;Will&#39;, &#39;Joe&#39;, &#39;Bob&#39;, &#39;Will&#39;], dtype=&#39;&lt;U4&#39;)</code></pre><pre class="line-numbers language-python"><code class="language-python">ints <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">np<span class="token punctuation">.</span>unique<span class="token punctuation">(</span>ints<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([1, 2, 3, 5])</code></pre><p>Constract <strong>np.unique</strong> with the pure Python alternative</p>
<pre class="line-numbers language-python"><code class="language-python">sorted<span class="token punctuation">(</span>set<span class="token punctuation">(</span>names<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>[&#39;Bob&#39;, &#39;Joe&#39;, &#39;Will&#39;]</code></pre><p>Another function, <strong>np.in1d</strong>, tests membership of the values in one array in another, returning a boolean array.</p>
<pre class="line-numbers language-python"><code class="language-python">values <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">44</span><span class="token punctuation">,</span><span class="token number">34</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">np<span class="token punctuation">.</span>in1d<span class="token punctuation">(</span>values<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([ True,  True, False, False, False, False])</code></pre><p>Table 4-6. Array set operations</p>
<table>
<thead>
<tr>
<th align="left">Method</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">unique(x)</td>
<td align="left">Compute the sorted, unique elements in x</td>
</tr>
<tr>
<td align="left">intersect1d(x, y)</td>
<td align="left">Compute the sorted, common elements in x and y</td>
</tr>
<tr>
<td align="left">union1d(x, y)</td>
<td align="left">Compute the sorted union of elements</td>
</tr>
<tr>
<td align="left">in1d(x, y)</td>
<td align="left">Compute a boolean array indicating whether each element of x is contained in y</td>
</tr>
<tr>
<td align="left">setdiff1d(x, y)</td>
<td align="left">Set difference, elements in x that are not in y</td>
</tr>
<tr>
<td align="left">setxor1d(x, y)</td>
<td align="left">Set symmetric differences; elements that are in either of the arrays, but not both</td>
</tr>
</tbody></table>
<h1 id="4-4-File-Input-and-Output-with-Arrays"><a href="#4-4-File-Input-and-Output-with-Arrays" class="headerlink" title="4.4 File Input and Output with Arrays"></a>4.4 File Input and Output with Arrays</h1><p>NumPy is able to save and load data to and from disk either in text or binary format.<br>In later chapters you will learn about tools in pandas for reading tabular data into<br>memory.</p>
<h1 id="4-5-Linear-Algebra"><a href="#4-5-Linear-Algebra" class="headerlink" title="4.5 Linear Algebra"></a>4.5 Linear Algebra</h1><p>Linear algebra, like matrix multiplication, decompostions, determinants, and other square matrix math, is<br>an important part of any array library.</p>
<p>Unlike some languages like MATLAB, multiplying two-dimensional arrays with <code>*</code> is an element-wise product instead of a matrix dot product.</p>
<p>As such, there is a function dot, both <strong>an array<br>method, and a function in the numpy namespace</strong></p>
<pre class="line-numbers language-python"><code class="language-python">x <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">x<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[1, 2, 3],
       [4, 5, 6]])</code></pre><pre class="line-numbers language-python"><code class="language-python">x <span class="token operator">*</span> x<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[ 1,  4,  9],
       [16, 25, 36]])</code></pre><pre class="line-numbers language-python"><code class="language-python">y <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[0, 1],
       [2, 3],
       [4, 5]])</code></pre><pre class="line-numbers language-python"><code class="language-python">x<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>y<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># ndarray function</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[16, 22],
       [34, 49]])</code></pre><pre class="line-numbers language-python"><code class="language-python">np<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># a function in numpy namespace</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[16, 22],
       [34, 49]])</code></pre><pre class="line-numbers language-python"><code class="language-python">x<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[1, 2, 3],
       [4, 5, 6]])</code></pre><pre class="line-numbers language-python"><code class="language-python">x @ np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># @ is also used in a matrix dot product</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([ 6., 15.])</code></pre><p><strong>numpy.linalg</strong>(linear algebra) has a standard set of matrix decompositions and things like inverse and determinant. These are implemented under the hood using the same industry-standard Fortran libraries used in other languages like MATLAB and R, such as like BLAS,LAPACK, or possibly(depending on your NumPy build) the Intel MKL</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> numpy<span class="token punctuation">.</span>linalg <span class="token keyword">as</span> npla
matrix <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">npla<span class="token punctuation">.</span>inv<span class="token punctuation">(</span>matrix<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[-46.76938498, -86.35815947, 129.96228838, -32.95425663],
       [-22.31060821, -41.56709931,  62.01812792, -15.25370697],
       [-20.35569284, -37.11177381,  54.70106286, -14.5358842 ],
       [-30.82139292, -54.49869152,  81.79616404, -21.54068957]])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr <span class="token operator">=</span> matrix<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>npla<span class="token punctuation">.</span>inv<span class="token punctuation">(</span>matrix<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># np.dot(matrix, npla.inv(matrix))</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">arr<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[ 1.00000000e+00, -5.73321716e-15, -4.64130813e-15,
        -1.34965101e-16],
       [ 1.03102760e-15,  1.00000000e+00, -1.13084465e-14,
         6.16824551e-16],
       [-6.92801263e-15, -9.06342203e-15,  1.00000000e+00,
        -3.46276746e-15],
       [ 1.61273987e-17, -4.13259316e-15, -9.54630608e-15,
         1.00000000e+00]])</code></pre><pre class="line-numbers language-python"><code class="language-python">np<span class="token punctuation">.</span>round<span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># decimals=2</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[ 1., -0., -0., -0.],
       [ 0.,  1., -0.,  0.],
       [-0., -0.,  1., -0.],
       [ 0., -0., -0.,  1.]])</code></pre><p>Table 4-7. Commonly-used numpy.linalg functions</p>
<table>
<thead>
<tr>
<th align="left">Function</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">diag</td>
<td align="left">Return the diagonal (or off-diagonal) elements of a square matrix as a 1D array, or convert a 1D array into a square matrix with zeros on the off-diagonal</td>
</tr>
<tr>
<td align="left">dot</td>
<td align="left">Matrix multiplication</td>
</tr>
<tr>
<td align="left">trace</td>
<td align="left">Compute the sum of the diagonal elements</td>
</tr>
<tr>
<td align="left">det</td>
<td align="left">Compute the matrix determinant</td>
</tr>
<tr>
<td align="left">eig</td>
<td align="left">Compute the eigenvalues and eigenvectors of a square matrix</td>
</tr>
<tr>
<td align="left">inv</td>
<td align="left">Compute the inverse of a square matrix</td>
</tr>
<tr>
<td align="left">pinv</td>
<td align="left">Compute the Moore-Penrose pseudo-inverse inverse of a square matrix</td>
</tr>
<tr>
<td align="left">qr</td>
<td align="left">Compute the QR decomposition</td>
</tr>
<tr>
<td align="left">svd</td>
<td align="left">Compute the singular value decomposition (SVD)</td>
</tr>
<tr>
<td align="left">solve</td>
<td align="left">Solve the linear system Ax = b for x, where A is a square matrix</td>
</tr>
<tr>
<td align="left">lstsq</td>
<td align="left">Compute the least-squares solution to y = Xb</td>
</tr>
</tbody></table>
<h1 id="4-6-Random-Number-Generation"><a href="#4-6-Random-Number-Generation" class="headerlink" title="4.6 Random Number Generation"></a>4.6 Random Number Generation</h1><p>The <strong>numpy.random</strong> module supplements the built-in Python <strong>random</strong> with functions for efficiently generating whole arrays of sample values from many kinds of probabiliry distributions. </p>
<p>Table 4-8. Partial list of numpy.random functions</p>
<table>
<thead>
<tr>
<th align="left">Function</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">seed</td>
<td align="left">Seed the random number generator</td>
</tr>
<tr>
<td align="left">permutation</td>
<td align="left">Return a random permutation of a sequence, or return a permuted range</td>
</tr>
<tr>
<td align="left">shuffle</td>
<td align="left">Randomly permute a sequence in place</td>
</tr>
<tr>
<td align="left">rand</td>
<td align="left">Draw samples from a uniform distribution</td>
</tr>
<tr>
<td align="left">randint</td>
<td align="left">Draw random integers from a given low-to-high range</td>
</tr>
<tr>
<td align="left">randn</td>
<td align="left">Draw samples from a normal distribution with mean 0 and standard deviation 1 (MATLAB-like interface)</td>
</tr>
<tr>
<td align="left">binomial</td>
<td align="left">Draw samples a binomial distribution</td>
</tr>
<tr>
<td align="left">normal</td>
<td align="left">Draw samples from a normal (Gaussian) distribution</td>
</tr>
<tr>
<td align="left">beta</td>
<td align="left">Draw samples from a beta distribution</td>
</tr>
<tr>
<td align="left">chisquare</td>
<td align="left">Draw samples from a chi-square distribution</td>
</tr>
<tr>
<td align="left">gamma</td>
<td align="left">Draw samples from a gamma distribution</td>
</tr>
<tr>
<td align="left">uniform</td>
<td align="left">Draw samples from a uniform [0, 1) distribution</td>
</tr>
</tbody></table>
<pre class="line-numbers language-python"><code class="language-python">samples <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>normal<span class="token punctuation">(</span>size <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">np<span class="token punctuation">.</span>round<span class="token punctuation">(</span>samples<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[-0.4422, -0.1181, -1.1577,  0.4524],
       [ 0.923 ,  1.8407,  0.1605, -0.9159],
       [ 0.7133, -0.0398, -1.3522, -1.1874],
       [-0.4133,  0.7873, -0.9728, -0.9143]])</code></pre><p>Python’s built-in <strong>random</strong> module by constrast only samples one value at a time. As you can see from this benchmark, <strong>numpy.random</strong> is well over an order of magnitude faster for generating very large samples</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> random <span class="token keyword">import</span> normalvariate
N <span class="token operator">=</span> <span class="token number">1000000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">%</span>timeit sample <span class="token operator">=</span> <span class="token punctuation">[</span>normalvariate<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> range<span class="token punctuation">(</span>N<span class="token punctuation">)</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>1.16 s ± 99.4 ms per loop (mean ± std. dev. of 7 runs, 1 loop each)</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">%</span>timeit np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>normal<span class="token punctuation">(</span>size <span class="token operator">=</span> N<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>33 ms ± 1.39 ms per loop (mean ± std. dev. of 7 runs, 10 loops each)</code></pre><p>They’re actually what’s known as “ pseudo random numbers, “ generated by algorithms.</p>
<pre class="line-numbers language-python"><code class="language-python"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<div align=left><img src="https://img-blog.csdnimg.cn/20200301230651854.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_40,text_cGhvdG8gYnkgc2h3ZWk=,size_25,color_FFFFFF,t_50,g_center" width="20%"/></div>

<h3 id="4-6-1-random-random-m-n"><a href="#4-6-1-random-random-m-n" class="headerlink" title="4.6.1 random.random((m,n))"></a>4.6.1 random.random((m,n))</h3><p>The function parameter is a tuple</p>
<p>Generate random numbers from 0 to 1</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
data <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># Show the variable</span>
data<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre><code>array([[0.87481527, 0.11475954, 0.52484471, 0.86935258, 0.09528812],
       [0.15106181, 0.12227048, 0.81898961, 0.33022438, 0.94330205]])</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># Print the variable  </span>
<span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre><code>[[0.87481527 0.11475954 0.52484471 0.86935258 0.09528812]
 [0.15106181 0.12227048 0.81898961 0.33022438 0.94330205]]</code></pre><pre class="line-numbers language-python"><code class="language-python">data <span class="token operator">*</span> <span class="token number">10</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[8.74815275, 1.14759543, 5.24844707, 8.69352576, 0.9528812 ],
       [1.51061807, 1.22270479, 8.18989614, 3.30224382, 9.43302047]])</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>data <span class="token operator">+</span> data<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>[[1.74963055 0.22951909 1.04968941 1.73870515 0.19057624]
 [0.30212361 0.24454096 1.63797923 0.66044876 1.88660409]]</code></pre><p>ndim: the first dimension</p>
<pre class="line-numbers language-python"><code class="language-python">data<span class="token punctuation">.</span>ndim<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>2</code></pre><p>shape: a tuple indicating the size of each dimension</p>
<pre class="line-numbers language-python"><code class="language-python">data<span class="token punctuation">.</span>shape<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>(2, 5)</code></pre><pre class="line-numbers language-python"><code class="language-python">data_ <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
data_<span class="token punctuation">.</span>shape <span class="token comment" spellcheck="true"># (3,) Only have one dimension</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre><code>(3,)</code></pre><p>dtype: decribe the data type of the array</p>
<pre class="line-numbers language-python"><code class="language-python">data<span class="token punctuation">.</span>dtype<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>dtype(&#39;float64&#39;)</code></pre><pre class="line-numbers language-python"><code class="language-python">data2 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span>
data2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre><code>array([0.0155825 , 0.80244718, 0.14901417, 0.42191698, 0.60644615,
       0.37694115, 0.2821992 , 0.97835977, 0.08436808])</code></pre><h3 id="4-6-2-random-randint-1-8-size-3-2"><a href="#4-6-2-random-randint-1-8-size-3-2" class="headerlink" title="4.6.2 random.randint(1,8, size = (3,2))"></a>4.6.2 random.randint(1,8, size = (3,2))</h3><p>Generate random integer from 1 to 8, left close and right open</p>
<pre class="line-numbers language-python"><code class="language-python">data_randint <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span>size <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
data_randint<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre><code>array([[7, 6],
       [7, 7],
       [1, 2]])</code></pre><h3 id="4-6-3-random-randn-d1-d2-d3-…"><a href="#4-6-3-random-randn-d1-d2-d3-…" class="headerlink" title="4.6.3 random.randn(d1, d2, d3, …)"></a>4.6.3 random.randn(d1, d2, d3, …)</h3><p>randn generates a matrix filled with random floats sampled from a univarite “normal” distribution of <font color=red size=3 face=STHeit>mean</font> 0 and <font color=red size=3 face=STHeit>variance</font> 1</p>
<p>Notes:<br>For random samples from $N(\sigma, \mu ^ 2)$,use:</p>
<p><code>sigma * np.random.randn(d1, ) + mu</code></p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># N(1, 6.25)</span>
data_normal_distribution <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">*</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randn<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2.5</span>
data_normal_distribution<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<pre><code>array([[4.03463856, 5.86698859, 2.59342223],
       [2.18876421, 1.66281754, 1.51047393]])</code></pre><h1 id="NumPy-Summay"><a href="#NumPy-Summay" class="headerlink" title="NumPy Summay"></a>NumPy Summay</h1><p>The biggest benefit of NumPy arrays is the use of simple array expressions to complete a variety of data manipulation tasks without the need to write some loops.</p>
<ul>
<li>Basic Indexing, Slicing, arr.T return <strong>view</strong></li>
<li>Boolean Indexing, Fancy Indexing, arr.swapaxes return <strong>copy</strong></li>
</ul>
<pre class="line-numbers language-python"><code class="language-python">arr2d<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[1, 0, 0],
       [4, 0, 0],
       [7, 8, 9]])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr_test <span class="token operator">=</span> arr2d<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token comment" spellcheck="true"># return view</span>
arr_test <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment" spellcheck="true"># This will change the original arr2d</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python">arr2d<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[1, 0, 0],
       [4, 0, 0],
       [7, 8, 9]])</code></pre><ul>
<li><code>,</code> locate the dimension </li>
<li><code>:</code> keep in same dimension (Slicing)</li>
<li><code>[2,3,1]</code> choose some in this dimension (Fancy Indexing)</li>
</ul>
<pre class="line-numbers language-python"><code class="language-python">arr2d<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>4</code></pre><pre class="line-numbers language-python"><code class="language-python">arr2d<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([4, 0, 0])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr2d<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([1, 4])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr2d<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">]</span> <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[1],
       [4]])</code></pre><pre class="line-numbers language-python"><code class="language-python">arr2d<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre><code>array([[7, 8, 9],
       [4, 0, 0]])</code></pre><p>How to locate number 5</p>
<div align=center><img src="https://img-blog.csdnimg.cn/20200306152255838.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_40,text_cGhvdG8gYnkgc2h3ZWk=,size_25,color_FFFFFF,t_50,g_center" width="50%"/></div>

<p>Change axis </p>
<p>Example 1:<br>arr size: 2∗3∗4<br>arr.T size: 4∗3∗2</p>
<p>old:(0,1,2) = 6<br>now:(2,1,0) = 6</p>
<div align=center><img src="https://img-blog.csdnimg.cn/20200306120247492.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_40,text_cGhvdG8gYnkgc2h3ZWk=,size_25,color_FFFFFF,t_50,g_center" width="50%"/></div>



            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        Author:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://weisenhui.top" rel="external nofollow noreferrer">meteorsh</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        Link:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://weisenhui.top/posts/40594.html">https://weisenhui.top/posts/40594.html</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        Reprint policy:
                    </i>
                </span>
                <span class="reprint-info">
                    All articles in this blog are used except for special statements
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    reprint polocy. If reproduced, please indicate source
                    <a href="https://weisenhui.top" target="_blank">meteorsh</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>Copied successfully, please follow the reprint policy of this article</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">more</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Python/">
                                    <span class="chip bg-color">Python</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;Previous</div>
            <div class="card">
                <a href="/posts/10001.html">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/4.jpg" class="responsive-img" alt="Master Theorem">
                        
                        <span class="card-title">Master Theorem</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            详细介绍主定理的内容
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2020-03-15
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E7%AE%97%E6%B3%95/" class="post-category">
                                    算法
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E7%AE%97%E6%B3%95/">
                        <span class="chip bg-color">算法</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                Next&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/posts/32313.html">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/2.jpg" class="responsive-img" alt="Python-cheatsheets">
                        
                        <span class="card-title">Python-cheatsheets</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            data science cheatsheets
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-03-04
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Python/" class="post-category">
                                    Python
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Python/">
                        <span class="chip bg-color">Python</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + 'From: meteorsh<br />'
            + 'Author: meteorsh<br />'
            + 'Link: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;TOC</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h1, h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>


<script src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
    MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$', '$'], ['\(', '\)']]}
    });
</script>


    <footer class="page-footer bg-color">
    
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2019</span>
            <a href="https://weisenhui.top" target="_blank">meteorsh</a>
            <!-- |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a> -->
            <br>
            
            
            
            
            <!-- <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span> -->
            
            
            <!-- <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span> -->
            
            <!-- <br> -->
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2019";
                    var startMonth = "7";
                    var startDate = "7";
                    var startHour = "0";
                    var startMinute = "0";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link ">
    <a href="https://github.com/meteorsh" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:cs_shwei@163.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=727929017" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 727929017" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;Search</span>
            <input type="search" id="searchInput" name="s" placeholder="Please enter a search keyword"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->


    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    

    

    

    

    

    
    <script type="text/javascript" src="/libs/background/ribbon-dynamic.js" async="async"></script>
    
    
    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

    
    <!-- <script type="text/javascript"> var OriginTitile = document.title, st; document.addEventListener("visibilitychange", function () { document.hidden ? (document.title = "Σ(っ °Д °;)っ喔哟，崩溃啦！", clearTimeout(st)) : (document.title = "φ(゜▽゜*)♪咦，又好了！", st = setTimeout(function () { document.title = OriginTitile }, 3e3)) }) </script> -->
</body>

</html>
